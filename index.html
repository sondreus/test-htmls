<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Economist PDB</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="section">
    <img src="econ_logo.png" alt="The Economist Logo">
  </div>
  <div id="preview-card-container"></div>
  <div class="section" data-index="0">
    <div id="section-content-1" class="section-content">Loading...</div>
  </div>
  <div class="section" data-index="1">
    <div id="section-content-2" class="section-content">Loading...</div>
  </div>
  <div class="section" data-index="2">
    <div id="section-content-3" class="section-content">Loading...</div>
  </div>
  <div class="section" data-index="3">
    <div id="section-content-4" class="section-content">Loading...</div>
  </div>
  <div class="section" data-index="4">
    <div id="section-content-5" class="section-content">Loading...</div>
  </div>

  <div class="buttons-container">
    <a href="mailto:sondresolstad@economist.com?subject=Feedback%20on%20The%20Economist%20PDB" class="button">
      <span>ðŸ“§</span>
      Feedback?
    </a>
    <a href="info.html" class="button">
      Info
    </a>
    <a href="endless_scroll.html" class="button">
      All topics?
    </a>
  </div>

  <script>
    let jsonData = [];

    const sections = document.querySelectorAll('.section');

    sections.forEach(section => {
      section.addEventListener('click', () => {
        const index = section.getAttribute('data-index');
        window.location.href = `details.html?index=${index}`;
      });
    });

    // Fetch JSON file and update content
    fetch('output.json')
      .then(response => response.json())
      .then(data => {
        jsonData = data;
        if (data.length > 0) {
          document.getElementById('section-content-1').textContent = data[0].title;
          document.getElementById('section-content-2').textContent = data[1].title;
          document.getElementById('section-content-3').textContent = data[2].title;
          document.getElementById('section-content-4').textContent = data[3].title;
          document.getElementById('section-content-5').textContent = data[4].title;
        }
      })
      .catch(error => console.error('Error fetching the JSON file:', error));
  </script>
</body>
</html>
